{
    "version": "13095581528",
    "description": "A simple hotkey daemon for Windows",
    "homepage": "https://github.com/LGUG2Z/whkd",
    "license": "MIT",
    "architecture": {
        "64bit": {
            "url": "https://nightly.link/LGUG2Z/whkd/actions/runs/13095581528/whkd-x86_64-pc-windows-msvc-be23476e7b5d29c1b01582a6fc2c461fa9f7f0b1.zip",
            "hash": "14bb12facd483b86b0fe0e93b7c21e7ea9436637ced2571bedbb5abb13bb582e",
            "extract_dir": "x86_64-pc-windows-msvc/release"
        },
        "arm64": {
            "url": "https://nightly.link/LGUG2Z/whkd/actions/runs/13095581528/whkd-aarch64-pc-windows-msvc-be23476e7b5d29c1b01582a6fc2c461fa9f7f0b1.zip",
            "hash": "948d373a15959e615d2580a6e1cebfe9dc3806e0ea6b9853c4cf24c4844e4a24",
            "extract_dir": "aarch64-pc-windows-msvc/release"
        }
    },
    "env_set": {
        "WHKD_CONFIG_HOME": "$env:USERPROFILE\\.config\\whkd"
    },
    "pre_install": [
        "if (!(Test-Path \"$env:USERPROFILE\\.config\\whkd\")) {",
        "   New-Item \"$env:USERPROFILE\\.config\\whkd\" -ItemType Directory | Out-Null",
        "}",
        "if (Get-Command komorebi -ErrorAction SilentlyContinue) {",
        "   if (!(Test-Path \"$env:USERPROFILE\\.config\\whkdrc\")) {",
        "      if (!(Test-Path \"$env:USERPROFILE\\.config\\whkd\\whkdrc\")) {",
        "         Invoke-WebRequest -Uri \"https://cdn.jsdelivr.net/gh/LGUG2Z/komorebi@master/docs/whkdrc.sample\" -OutFile \"$env:USERPROFILE\\.config\\whkd\\whkdrc\" -UseBasicParsing | Out-Null",
        "      }",
        "   } else {",
        "      Move-Item -Path \"$env:USERPROFILE\\.config\\whkdrc\" -Destination \"$env:USERPROFILE\\.config\\whkd\\whkdrc\" -Force",
        "   }",
        "}"
    ],
    "bin": "whkd.exe",
    "checkver": {
        "script": [
            "$workflow_runs = (Invoke-WebRequest 'https://api.github.com/repositories/591491992/actions/workflows/windows.yaml/runs?status=success' -UseBasicParsing | ConvertFrom-Json).workflow_runs[0]",
            "$sha = $workflow_runs.head_sha",
            "$version = $workflow_runs.id",
            "Write-Output $version-$sha"
        ],
        "regex": "(?<version>.+)-(?<sha>.+)",
        "replace": "${version}"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://nightly.link/LGUG2Z/whkd/actions/runs/$matchVersion/whkd-x86_64-pc-windows-msvc-$matchSha.zip"
            },
            "arm64": {
                "url": "https://nightly.link/LGUG2Z/whkd/actions/runs/$matchVersion/whkd-aarch64-pc-windows-msvc-$matchSha.zip"
            }
        }
    }
}
